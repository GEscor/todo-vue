(function(t){function e(e){for(var n,r,o=e[0],l=e[1],c=e[2],d=0,p=[];d<o.length;d++)r=o[d],i[r]&&p.push(i[r][0]),i[r]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(t[n]=l[n]);u&&u(e);while(p.length)p.shift()();return s.push.apply(s,c||[]),a()}function a(){for(var t,e=0;e<s.length;e++){for(var a=s[e],n=!0,o=1;o<a.length;o++){var l=a[o];0!==i[l]&&(n=!1)}n&&(s.splice(e--,1),t=r(r.s=a[0]))}return t}var n={},i={app:0},s=[];function r(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=t,r.c=n,r.d=function(t,e,a){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)r.d(a,n,function(e){return t[e]}.bind(null,n));return a},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=e,o=o.slice();for(var c=0;c<o.length;c++)e(o[c]);var u=l;s.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"00b1":function(t,e,a){},"034f":function(t,e,a){"use strict";var n=a("64a9"),i=a.n(n);i.a},"0b56":function(t,e,a){},"31c2":function(t,e,a){"use strict";var n=a("8af5"),i=a.n(n);i.a},4174:function(t,e,a){"use strict";var n=a("b155"),i=a.n(n);i.a},"56d7":function(t,e,a){"use strict";a.r(e);a("cadf"),a("551c"),a("f751"),a("097d");var n=a("2b0e"),i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app"},[a("h1",[t._v("Список задач")]),a("div",{staticClass:"timer"},[a("span",[t._v(t._s(t.time.slice(0,5)))]),a("span",[t._v(t._s(t.date))])]),a("NewTask",{attrs:{taskName:t.taskName,taskDescription:t.taskDescription,endTime:t.endTime,endDate:t.endDate,priority:t.priority},on:{"input-name":function(e){t.taskName=e},"input-description":function(e){t.taskDescription=e},"input-time":function(e){t.endTime=e},"input-date":function(e){t.endDate=e},"priority-select":function(e){t.priority=e},"task-add":t.addTask}}),a("TaskFilter",{attrs:{filter:t.filter},on:{"filter-select":function(e){t.filter=e}}}),a("TaskList",{attrs:{tasks:t.currentTasks}}),a("DoneList",{attrs:{dones:t.done}})],1)},s=[],r=new n["a"],o=r,l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("form",{staticClass:"new-task"},[a("h1",[t._v("Новая задача")]),a("input",{staticClass:"task-name",class:t.priority,attrs:{type:"text",id:"taskName",placeholder:"Название задачи",autocomplete:"off"},domProps:{value:t.taskName},on:{input:function(e){return t.$emit("input-name",e.target.value)}}}),a("input",{staticClass:"task-description",class:t.priority,attrs:{type:"text",id:"task-description",placeholder:"Описание задачи",autoComplete:"off"},domProps:{value:t.taskDescription},on:{input:function(e){return t.$emit("input-description",e.target.value)}}}),a("label",{staticClass:"task-time",class:t.priority},[t._v("\r\n        Время окончания\r\n        "),a("input",{staticClass:"clock",attrs:{id:"clock",type:"time"},domProps:{value:t.endTime},on:{change:function(e){return t.$emit("input-time",e.target.value)}}})]),a("label",{staticClass:"task-date",class:t.priority},[t._v("\r\n        Дата окончания\r\n        "),a("input",{staticClass:"calendar",attrs:{id:"calendar",type:"date",min:"2019-08-01",max:"2100-12-31"},domProps:{value:t.endDate},on:{change:function(e){return t.$emit("input-date",e.target.value)}}})]),a("label",{staticClass:"task-radio low"},[a("input",{attrs:{type:"radio",name:"priority",value:"low"},domProps:{checked:"low"===t.priority},on:{change:function(e){return t.$emit("priority-select",e.target.value)}}}),t._v("Обычная")]),a("label",{staticClass:"task-radio med"},[a("input",{attrs:{type:"radio",name:"priority",value:"med"},domProps:{checked:"med"===t.priority},on:{change:function(e){return t.$emit("priority-select",e.target.value)}}}),t._v("Важная")]),a("label",{staticClass:"task-radio high"},[a("input",{attrs:{type:"radio",name:"priority",value:"high"},domProps:{checked:"high"===t.priority},on:{change:function(e){return t.$emit("priority-select",e.target.value)}}}),t._v("Очень важная")]),a("button",{staticClass:"add",attrs:{disabled:!t.taskName.trim()},on:{click:function(e){return t.$emit("task-add")}}},[t._v("Добавить")])])},c=[],u={name:"NewTask",props:{taskName:String,taskDescription:String,endTime:String,endDate:String,priority:String}},d=u,p=(a("6a6f"),a("2877")),f=Object(p["a"])(d,l,c,!1,null,null,null),m=f.exports,k=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"filter-field"},[a("h2",[t._v("Фильтр")]),a("label",{staticClass:"filter all"},[a("input",{attrs:{type:"radio",name:"filter",value:"all"},domProps:{checked:"all"===t.filter},on:{change:function(e){return t.$emit("filter-select",e.target.value)}}}),t._v("Все")]),a("label",{staticClass:"filter low"},[a("input",{attrs:{type:"radio",name:"filter",value:"low"},domProps:{checked:"low"===t.filter},on:{change:function(e){return t.$emit("filter-select",e.target.value)}}}),t._v("Обычные\n   ")]),a("label",{staticClass:"filter med"},[a("input",{attrs:{type:"radio",name:"filter",value:"med"},domProps:{checked:"med"===t.filter},on:{change:function(e){return t.$emit("filter-select",e.target.value)}}}),t._v("Важные\n   ")]),a("label",{staticClass:"filter high"},[a("input",{attrs:{type:"radio",name:"filter",value:"high"},domProps:{checked:"high"===t.filter},on:{change:function(e){return t.$emit("filter-select",e.target.value)}}}),t._v("Очень важные\n   ")])])},v=[],h={name:"TaskFilter",props:{filter:String}},y=h,_=(a("4174"),Object(p["a"])(y,k,v,!1,null,null,null)),g=_.exports,b=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"task-list"},[a("h2",[t._v("Текущие задачи")]),a("ul",[0===t.tasks.length?a("li",[a("p",[t._v("Текущих задач нет")])]):t._e(),t._l(t.tasks,function(t){return a("single-task",{key:t.id,attrs:{task:t}})})],2)])},D=[],T=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("li",{staticClass:"task",class:t.task.priority+(t.task.failed?" failed":""),on:{click:function(e){t.expand=!t.expand}}},[a("button",{staticClass:"done",attrs:{disabled:t.task.failed},on:{click:t.taskDone}},[t._v("Готово")]),a("span",{staticClass:"name"},[t._v(t._s(t.task.taskName))]),a("span",{staticClass:"end-time"},[t._v(t._s(t.task.endTime))]),a("span",{staticClass:"end-date"},[t._v(t._s(t.ddmmyyyy))]),t.expand?a("span",{staticClass:"description"},[t._v("\n        "+t._s(t.task.description?t.task.description:"Нет описания")+"\n    ")]):t._e(),t.expand?a("button",{staticClass:"modify",on:{click:t.taskModify}},[t._v("Редактировать")]):t._e(),t.expand?a("button",{staticClass:"delete",on:{click:t.taskDelete}},[t._v("Удалить")]):t._e()])},C=[],w={name:"SingleTask",data:function(){return{expand:!1}},props:{task:Object},computed:{ddmmyyyy:function(){var t=this.task.endDate;return t?t[8]+t[9]+"-"+t[5]+t[6]+"-"+t[0]+t[1]+t[2]+t[3]:null}},methods:{taskDone:function(){o.$emit("task-done",{taskName:this.task.taskName,doneTime:(new Date).toLocaleTimeString().slice(0,5),doneDate:(new Date).toLocaleDateString(),id:this.task.id})},taskModify:function(){o.$emit("task-modify",{taskName:this.task.taskName,taskDescription:this.task.description,endTime:this.task.endTime,endDate:this.task.endDate,priority:this.task.priority,id:this.task.id})},taskDelete:function(){o.$emit("task-delete",{id:this.task.id})}}},N=w,$=(a("31c2"),Object(p["a"])(N,T,C,!1,null,null,null)),x=$.exports,S={name:"TaskList",props:{tasks:Array},components:{"single-task":x}},O=S,j=(a("9c38"),Object(p["a"])(O,b,D,!1,null,null,null)),P=j.exports,L=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"task-list"},[a("h1",[t._v("Завершенные задачи")]),a("ul",[0===t.dones.length?a("li",{staticClass:"empty"},[a("p",[t._v("Тeкущих задач нет")])]):t._e(),t._l(t.dones,function(e){return a("li",{key:e.id,staticClass:"task passed",attrs:{done:e}},[a("span",{staticStyle:{width:"110"}}),a("span",{staticClass:"name"},[t._v(t._s(e.taskName))]),a("span",{staticClass:"end-time"},[t._v(t._s(e.doneTime))]),a("span",{staticClass:"end-date"},[t._v(t._s(e.doneDate))])])})],2)])},E=[],M={name:"DoneList",props:{dones:Array}},F=M,I=(a("820a"),Object(p["a"])(F,L,E,!1,null,null,null)),J=I.exports,A=a("5118"),q={name:"app",data:function(){return{tasks:[],done:[],taskName:"",taskDescription:"",endTime:"",endDate:"",priority:"med",time:"",date:"",filter:"all"}},computed:{currentTasks:function(){var t=this,e=this.tasks;return e?(e=this.tasks.map(function(t){var e=t;if(t.endDate){var a=Date.parse(t.endDate+" "+t.endTime),n=Date.parse(new Date);return a<n?(e.failed=!0,e):(e.failed=!1,e)}return e.failed=!1,e}),"all"===this.filter?e:e.filter(function(e){return e.priority===t.filter})):[]}},components:{NewTask:m,TaskFilter:g,TaskList:P,DoneList:J},methods:{load:function(){this.time=(new Date).toLocaleTimeString(),this.date=(new Date).toLocaleDateString()},saveTasks:function(){localStorage.setItem("tasks",JSON.stringify(this.tasks))},addTask:function(){this.tasks.unshift({id:+new Date,taskName:this.taskName,taskDescription:this.taskDescription,endTime:this.endTime,endDate:this.endDate,priority:this.priority}),this.taskName="",this.taskDescription="",this.endTime="",this.endDate="",this.priority="med",this.saveTasks()}},mounted:function(){var t=this;this.interval=Object(A["setInterval"])(function(){return t.load()},1e3),this.tasks=JSON.parse(localStorage.getItem("tasks"))},beforeDestroy:function(){Object(A["clearInterval"])(this.interval)},created:function(){var t=this;o.$on("task-modify",function(e){t.selectedFilter=e.filter,t.taskName=e.taskName,t.taskDescription=e.taskDescription,t.endTime=e.endTime,t.endDate=e.endDate,t.priority=e.priority;var a=t.tasks.filter(function(t){return t.id!==e.id});t.tasks=a,t.saveTasks()}),o.$on("task-delete",function(e){var a=t.tasks.filter(function(t){return t.id!==e.id});t.tasks=a,t.saveTasks()}),o.$on("task-done",function(e){t.done.unshift({taskName:e.taskName,doneTime:e.doneTime,doneDate:e.doneDate});var a=t.tasks.filter(function(t){return t.id!==e.id});t.tasks=a,t.saveTasks()})}},z=q,B=(a("034f"),Object(p["a"])(z,i,s,!1,null,null,null)),G=B.exports;new n["a"]({render:function(t){return t(G)}}).$mount("#app")},"64a9":function(t,e,a){},"6a6f":function(t,e,a){"use strict";var n=a("0b56"),i=a.n(n);i.a},"820a":function(t,e,a){"use strict";var n=a("bc62"),i=a.n(n);i.a},"8af5":function(t,e,a){},"9c38":function(t,e,a){"use strict";var n=a("00b1"),i=a.n(n);i.a},b155:function(t,e,a){},bc62:function(t,e,a){}});
//# sourceMappingURL=app.f97a6537.js.map